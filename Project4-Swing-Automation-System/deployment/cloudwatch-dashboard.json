{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Lambda Invocations (sum)",
        "region": "us-east-1",
        "stat": "Sum",
        "period": 300,
        "metrics": [
          [ "AWS/Lambda", "Invocations", "FunctionName", "swing-webhook-trading", {"color":"#2ca02c"} ],
          [ ".", "Invocations", ".", "swing-portfolio-reporter" ],
          [ ".", "Invocations", ".", "swing-sentiment-enhanced-lambda" ],
          [ ".", "Invocations", ".", "swing-performance-analyzer" ],
          [ ".", "Invocations", ".", "swing-trading-executor" ],
          [ ".", "Invocations", ".", "swing-trading-test" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Lambda Errors (sum)",
        "region": "us-east-1",
        "stat": "Sum",
        "period": 300,
        "metrics": [
          [ "AWS/Lambda", "Errors", "FunctionName", "swing-webhook-trading", {"color":"#d62728"} ],
          [ ".", "Errors", ".", "swing-portfolio-reporter" ],
          [ ".", "Errors", ".", "swing-sentiment-enhanced-lambda" ],
          [ ".", "Errors", ".", "swing-performance-analyzer" ],
          [ ".", "Errors", ".", "swing-trading-executor" ],
          [ ".", "Errors", ".", "swing-trading-test" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "EventBridge Rule Invocations",
        "region": "us-east-1",
        "stat": "Sum",
        "period": 900,
        "metrics": [
          [ "AWS/Events", "Invocations", "RuleName", "swing-lightcheck-15m" ],
          [ ".", "Invocations", ".", "swing-daily-heavy" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "EventBridge Failed Invocations",
        "region": "us-east-1",
        "stat": "Sum",
        "period": 900,
        "metrics": [
          [ "AWS/Events", "FailedInvocations", "RuleName", "swing-lightcheck-15m" ],
          [ ".", "FailedInvocations", ".", "swing-daily-heavy" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 12,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "SES Sends/Bounces/Rejects",
        "region": "us-east-1",
        "stat": "Sum",
        "period": 300,
        "metrics": [
          [ "AWS/SES", "Send" ],
          [ ".", "Rejects" ],
          [ ".", "Bounces" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 12,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "S3 Bucket Size (bytes) & Objects",
        "region": "us-east-1",
        "period": 86400,
        "stat": "Average",
        "metrics": [
          [ "AWS/S3", "BucketSizeBytes", "BucketName", "swing-automation-data-processor", "StorageType", "StandardStorage" ],
          [ ".", "NumberOfObjects", ".", ".", ".", "AllStorageTypes" ]
        ],
        "view": "timeSeries"
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 18,
      "width": 24,
      "height": 6,
      "properties": {
        "query": "SOURCE '/aws/lambda/swing-*' | fields @timestamp, @message | filter @message like /ERROR|Exception|Forbidden|403/ | sort @timestamp desc | limit 50",
        "region": "us-east-1",
        "title": "Recent Lambda Errors (Logs Insights)",
        "view": "table"
      }
    }
  ]
}
